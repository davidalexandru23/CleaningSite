<!DOCTYPE html>
<html lang="ro">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Politici GDPR & Cookie | Activ Cleaning Solutions SRL</title>
    <link rel="stylesheet" href="assets/css/local-fonts.css">
    <link rel="stylesheet" href="assets/css/bootstrap.min.css">
    <link rel="stylesheet" href="assets/css/bootstrap-icons.css">
    <link rel="stylesheet" href="style.css" />
</head>

<body>
    <div class="page-wrapper">
        <header class="site-header py-3 border-bottom">
            <nav class="container d-flex align-items-center justify-content-between">
                <a href="index.html" class="navbar-brand fw-semibold">Activ Cleaning Solutions</a>
                <div class="d-flex gap-3 align-items-center">
                    <a href="index.html" class="btn btn-link text-decoration-none text-light">Înapoi la site</a>
                    <button class="btn btn-outline-light btn-sm" id="manageConsentPrivacy" type="button">
                        Preferințe cookie
                    </button>
                </div>
            </nav>
            <section class="hero privacy-hero text-center py-5">
                <div class="container">
                    <p class="eyebrow">Politici & conformitate</p>
                    <h1 class="display-6 fw-semibold mb-3">Protecția datelor și utilizarea cookie-urilor</h1>
                    <p class="lead mx-auto" style="max-width: 760px;">
                        Această pagină descrie modul în care activăm în calitate de operator de date, ce informații
                        colectăm prin formularele site-ului, care este temeiul legal, durata de stocare și cum îți poți
                        exercita drepturile conform GDPR și legislației din România.
                    </p>
                </div>
            </section>
        </header>

        <main class="py-5">
            <div class="container">
                <section id="politica" class="mb-5">
                    <h2 class="fw-semibold mb-3">1. Operator de date și date colectate</h2>
                    <p>
                        Operatorul de date este <strong>Activ Cleaning Solutions SRL</strong>, cu sediul la
                        Bdul. Timișoara 104 E, Corp C1-Anexă, Cod 061334, București, România. Contact confidențialitate:
                        <a href="mailto:privacy@activcleaning.ro">privacy@activcleaning.ro</a>.
                    </p>
                    <p>Colectăm următoarele categorii de date atunci când completezi formularele de pe site:</p>
                    <ul>
                        <li>Date de identificare: nume complet, companie (opțional)</li>
                        <li>Date de contact: adresă de e-mail, număr de telefon (opțional)</li>
                        <li>Informații comerciale: mesajul transmis și preferințele privind oferta</li>
                        <li>Date tehnice minime: adresa IP și timestamp, folosite pentru securitate și audit</li>
                    </ul>
                </section>

                <section id="temei" class="mb-5">
                    <h2 class="fw-semibold mb-3">2. Temei legal și scopuri</h2>
                    <p>
                        Prelucrăm datele pentru a răspunde solicitărilor B2B și pentru a transmite ofertele cerute,
                        în baza art. 6 alin. (1) lit. b) GDPR (executarea unui contract sau pași înaintea încheierii lui)
                        și art. 6 alin. (1) lit. a) pentru comunicări comerciale expres consimțite.
                    </p>
                    <p> Consimțământul poate fi retras în orice moment folosind datele de contact de mai jos. Retragerea nu
                        afectează legalitatea prelucrării realizate anterior.</p>
                </section>

                <section id="retentie" class="mb-5">
                    <h2 class="fw-semibold mb-3">3. Retenția datelor</h2>
                    <p>Aplicăm politica „minimum necesar”. Mesajele din formular se șterg automat după perioada definită în
                        infrastructură (implicit 24 de luni) dacă legislația fiscală sau contractuală nu cere altfel.</p>
                    <div class="table-responsive">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>Tip date</th>
                                    <th>Durată maximă</th>
                                    <th>Motiv</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Mesaje formular contact</td>
                                    <td>24 luni</td>
                                    <td>Follow-up comercial și audit intern</td>
                                </tr>
                                <tr>
                                    <td>Loguri GDPR request</td>
                                    <td>12 luni</td>
                                    <td>Dovada tratării cererilor legitime</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </section>

                <section id="cookies" class="mb-5">
                    <h2 class="fw-semibold mb-3">4. Cookie-uri și conținut terț</h2>
                    <p>
                        Site-ul folosește cookie-uri esențiale (stocate în browser) doar pentru a memora preferințele de
                        consimțământ. Conținuturile de la terți (ex. Google Maps) sunt blocate implicit și sunt încărcate
                        doar după ce alegi opțiunea „Accept”. Setările pot fi schimbate oricând folosind butonul din
                        footer sau de mai jos.
                    </p>
                    <button class="btn btn-outline-primary" id="manageConsentPrivacyBlock" type="button">
                        Gestionează preferințele cookie
                    </button>
                </section>

                <section id="drepturi" class="mb-5">
                    <h2 class="fw-semibold mb-3">5. Drepturile tale</h2>
                    <p>Conform GDPR, ai dreptul să:</p>
                    <ul>
                        <li>Obții confirmarea dacă prelucrăm datele tale și acces la o copie;</li>
                        <li>Corectezi datele inexacte sau incomplete;</li>
                        <li>Soliciti ștergerea („dreptul de a fi uitat”) când temeiul nu mai există;</li>
                        <li>Restricționezi prelucrarea sau să te opui comunicărilor de marketing;</li>
                        <li>Primești datele într-un format portabil.</li>
                    </ul>
                </section>

                <section id="cereri" class="mb-5">
                    <h2 class="fw-semibold mb-3">6. Trimite o cerere GDPR</h2>
                    <p>Completează formularul de mai jos sau scrie-ne la <a
                            href="mailto:privacy@activcleaning.ro">privacy@activcleaning.ro</a>. Vom răspunde în maximum 30
                        de zile.</p>
                    <div class="contact-card">
                        <form class="row g-3" id="gdprForm" autocomplete="off">
                            <div class="col-md-6">
                                <label for="gdprFullName" class="form-label">Nume și prenume</label>
                                <input type="text" class="form-control" id="gdprFullName" name="fullName" required>
                            </div>
                            <div class="col-md-6">
                                <label for="gdprEmail" class="form-label">Email</label>
                                <input type="email" class="form-control" id="gdprEmail" name="email" required>
                            </div>
                            <div class="col-md-6">
                                <label for="gdprType" class="form-label">Tip solicitare</label>
                                <select class="form-select" id="gdprType" name="requestType" required>
                                    <option value="export">Acces / export date</option>
                                    <option value="rectification">Rectificare</option>
                                    <option value="erasure">Ștergere</option>
                                    <option value="restriction">Restricționare/Opoziție</option>
                                </select>
                            </div>
                            <div class="col-12">
                                <label for="gdprMessage" class="form-label">Detalii suplimentare</label>
                                <textarea class="form-control" id="gdprMessage" name="message" rows="4"
                                    maxlength="2000" required></textarea>
                            </div>
                            <div class="col-12">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" id="gdprConfirm" required>
                                    <label class="form-check-label" for="gdprConfirm">
                                        Confirm că sunt persoana vizată sau reprezentantul legal al acesteia.
                                    </label>
                                </div>
                            </div>
                            <div class="col-12 d-flex justify-content-end">
                                <button class="btn btn-primary" type="submit">Trimite solicitarea</button>
                            </div>
                        </form>
                        <div class="alert alert-success mt-4 d-none" id="gdprSuccess">
                            Cererea ta a fost înregistrată. Te vom contacta în cel mai scurt timp.
                        </div>
                        <div class="alert alert-danger mt-4 d-none" id="gdprError">
                            Nu am putut înregistra cererea. Te rugăm să încerci din nou.
                        </div>
                    </div>
                </section>
            </div>
        </main>

        <div class="cookie-banner d-none" id="cookieBanner" role="dialog" aria-live="polite">
            <div class="cookie-content">
                <h5>Preferințe pentru cookie-uri și conținut extern</h5>
                <p>
                    Stocăm cookie-uri esențiale și, doar cu acordul tău, activăm conținuturi terțe (Google Maps).
                    Consultă <a href="#cookies">secțiunea de mai sus</a> pentru detalii.
                </p>
                <div class="cookie-actions">
                    <button class="btn btn-outline-secondary" id="acceptEssentialCookies">Refuz</button>
                    <button class="btn btn-primary" id="acceptAllCookies">Accept</button>
                </div>
            </div>
        </div>

        <footer class="py-4">
            <div class="container d-flex flex-column flex-lg-row justify-content-between align-items-center gap-3">
                <div>
                    <p class="mb-1">© <span id="year"></span> Activ Cleaning Solutions SRL.</p>
                    <p class="small-italic mb-0">Document actualizat la: <span id="policyUpdated">2024-05-01</span></p>
                </div>
                <button class="btn btn-sm btn-outline-light" type="button" id="manageConsent">
                    Preferințe cookie
                </button>
            </div>
        </footer>
    </div>

    <script src="assets/js/bootstrap.bundle.min.js"></script>
    <script>
        const consentKey = 'acs-consent';
        const defaultConsent = { essential: true, external: false };
        const cookieBanner = document.getElementById('cookieBanner');
        const acceptEssentialBtn = document.getElementById('acceptEssentialCookies');
        const acceptAllBtn = document.getElementById('acceptAllCookies');
        const manageConsentButtons = [
            document.getElementById('manageConsent'),
            document.getElementById('manageConsentPrivacy'),
            document.getElementById('manageConsentPrivacyBlock')
        ].filter(Boolean);

        const getStoredConsent = () => {
            try {
                return JSON.parse(localStorage.getItem(consentKey)) || defaultConsent;
            } catch {
                return defaultConsent;
            }
        };

        const updateConsent = (newValues) => {
            const merged = { ...defaultConsent, ...getStoredConsent(), ...newValues };
            localStorage.setItem(consentKey, JSON.stringify(merged));
            hideBanner();
        };

        const showBanner = () => cookieBanner.classList.remove('d-none');
        const hideBanner = () => cookieBanner.classList.add('d-none');

        if (!localStorage.getItem(consentKey)) {
            showBanner();
        }

        acceptEssentialBtn?.addEventListener('click', () => updateConsent({ external: false }));
        acceptAllBtn?.addEventListener('click', () => updateConsent({ external: true }));
        manageConsentButtons.forEach((btn) => btn.addEventListener('click', showBanner));

        document.getElementById('year').textContent = new Date().getFullYear();

        const gdprForm = document.getElementById('gdprForm');
        const gdprSuccess = document.getElementById('gdprSuccess');
        const gdprError = document.getElementById('gdprError');
        const gdprSubmit = gdprForm.querySelector('button[type="submit"]');
        const GDPR_ENDPOINT = window.location.protocol === 'file:'
            ? 'http://localhost:4000/api/contact/gdpr-request'
            : '/api/contact/gdpr-request';

        gdprForm.addEventListener('submit', async (event) => {
            event.preventDefault();
            gdprSuccess.classList.add('d-none');
            gdprError.classList.add('d-none');
            gdprSubmit.disabled = true;
            gdprSubmit.textContent = 'Se trimite...';
            const formData = new FormData(gdprForm);
            const payload = {
                fullName: formData.get('fullName')?.trim(),
                email: formData.get('email')?.trim(),
                requestType: formData.get('requestType'),
                message: formData.get('message')?.trim()
            };

            try {
                const response = await fetch(GDPR_ENDPOINT, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(payload)
                });
                if (!response.ok) {
                    const result = await response.json().catch(() => ({}));
                    throw new Error(result?.message || 'Eroare la transmitere.');
                }
                gdprSuccess.classList.remove('d-none');
                gdprForm.reset();
            } catch (error) {
                gdprError.textContent = error?.message || 'Nu am putut înregistra cererea.';
                gdprError.classList.remove('d-none');
            } finally {
                gdprSubmit.disabled = false;
                gdprSubmit.textContent = 'Trimite solicitarea';
            }
        });
    </script>
</body>

</html>
